<!DOCTYPE html>
<html>
<head>
  <title>Sansaku</title>
  <%= stylesheet_link_tag    "application", media: "all" %>
  <%= javascript_include_tag "application" %>
  <%= csrf_meta_tags %>
  
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
  
  <link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.css" />
  <script src="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.js"></script>

  <script src="http://maps.google.com/maps/api/js?sensor=true&language=ja"></script>

<script>
$(document).on('pageshow', '#map-page',function () {
        var latlng = new google.maps.LatLng(40.803805, 140.760929);
        var options = {
            zoom: 12,
            center: latlng,
            mapTypeId: google.maps.MapTypeId.ROADMAP
        };
        var map = new google.maps.Map(document.getElementById('map'), options);

        
        var marker = createMarker(
          map,
          new google.maps.LatLng(<%=place.lat%>,<%=place.lng%> ),
          '<strong></strong>'
          );

        function createMarker(map, latlng, msg){
          var marker = new google.maps.Marker();
          marker.setPosition(latlng);
          marker.setMap(map);

          var infoWnd = new google.maps.InfoWindow();
          infoWnd.setContent(msg);

          google.maps.event.addListener(marker, "click", function(){
            infoWnd.open(map, marker);
        });
        return marker;
        }

});
</script>
<style>
#map {
  width: 300px;
  height: 300px;
  border:1px solid black";
}
</style>
</head>
<body>
<div data-role="page" id="map-page">

<%= render "share/header" %>
<%= yield %>

<%= render "share/footer" %>

</div>
</body>
</html>